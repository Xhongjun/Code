package com.xgdfin.io.aio;import java.io.IOException;import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.AsynchronousSocketChannel;import java.nio.channels.CompletionHandler;import java.util.concurrent.ExecutionException;/** Copyright (C) 2017  ShenZhen xinLianZhengXin Co.,Ltd All Rights Reserved.* 未经本公司正式书面同意，其他任何个人、团体不得使用、复制、修改或发布本软件.* 版权所有深圳市信联征信有限公司 http://www.credlink.com/*/public class AIOClient {    AsynchronousSocketChannel clientChannel;    public AIOClient() throws IOException {        this.clientChannel = AsynchronousSocketChannel.open();    }    public void connect (String host, int post) {        clientChannel.connect(new InetSocketAddress(host, post), null, new CompletionHandler<Void, Object>() {            @Override            public void completed(Void result, Object attachment) {                try {                    clientChannel.write(ByteBuffer.wrap("aio 客户端发送测试数据".getBytes())).get();                } catch (InterruptedException e) {                    e.printStackTrace();                } catch (ExecutionException e) {                    e.printStackTrace();                }                System.out.println("数据已发送");            }            @Override            public void failed(Throwable exc, Object attachment) {                exc.printStackTrace();            }        });        ByteBuffer buffer = ByteBuffer.allocate(1024);        clientChannel.read(buffer, null, new CompletionHandler<Integer, Object>() {            @Override            public void completed(Integer result, Object attachment) {                System.out.println("I/O 操作完成："+result);                System.out.println("aio 服务端返回：" + new String(buffer.array()));            }            @Override            public void failed(Throwable exc, Object attachment) {                exc.printStackTrace();            }        });        try {            Thread.sleep(8000);        } catch (InterruptedException e) {            e.printStackTrace();        }    }    public static void main(String[] args) throws IOException {        new AIOClient().connect("127.0.0.1", 8089);    }}